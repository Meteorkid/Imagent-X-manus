# 📦 ImagentX 部署包说明

## 📋 部署包信息

- **文件名**: `imagentx-deploy.tar.gz`
- **大小**: 178MB
- **创建时间**: 2024年8月26日
- **版本**: ImagentX 生产环境部署包

## 📁 包含的核心文件

### 🐳 Docker配置文件
- `docker-compose-production.yml` - 生产环境完整配置
- `docker-compose-local-production.yml` - 本地测试环境配置
- `apps/backend/Dockerfile` - 后端服务镜像
- `apps/frontend/Dockerfile` - 前端服务镜像

### 🚀 部署脚本
- `deploy-production.sh` - 生产环境部署脚本
- `quick-deploy.sh` - 快速部署脚本
- `mac-deploy.sh` - Mac环境一键部署脚本
- `check-dns.sh` - DNS配置检查脚本

### ⚙️ 配置文件
- `env.production.template` - 环境变量模板
- `.env.production` - 生产环境变量（已配置）
- `config/nginx/nginx-production.conf` - Nginx生产配置
- `config/nginx/nginx-local.conf` - Nginx本地配置

### 📚 应用代码
- `apps/backend/` - 后端Spring Boot应用
- `apps/frontend/` - 前端Next.js应用
- `config/` - 配置文件目录
- `scripts/` - 脚本文件目录

### 📖 文档文件
- `服务器部署完整指南.md` - 完整部署指南
- `Mac环境完整部署指南.md` - Mac环境部署指南
- `阿里云DNS配置指南.md` - DNS配置指南
- `部署执行详细指南.md` - 详细执行步骤
- `部署检查清单.md` - 部署检查清单
- `部署文件清单.md` - 文件清单说明

## 🚀 快速部署步骤

### 1. 上传到服务器
```bash
# 在Mac终端中执行
scp imagentx-deploy.tar.gz root@[您的服务器IP]:/opt/
```

### 2. 在服务器上解压
```bash
# 在服务器上执行
mkdir -p /opt/imagentx
cd /opt/imagentx
tar -xzf /opt/imagentx-deploy.tar.gz
```

### 3. 配置环境变量
```bash
# 在服务器上执行
cp env.production.template .env.production
nano .env.production  # 编辑重要配置项
```

### 4. 执行部署
```bash
# 在服务器上执行
chmod +x *.sh
./quick-deploy.sh --setup
./quick-deploy.sh --deploy
```

### 5. 验证部署
```bash
# 在服务器上执行
./quick-deploy.sh --status
```

## 🔧 重要配置项

### 环境变量配置
在 `.env.production` 中需要修改的重要配置：

```bash
# 数据库配置
DB_PASSWORD=YourSecurePassword123!  # 修改为强密码

# JWT密钥（必须更改）
JWT_SECRET=YourVerySecureJWTSecretKeyHereChangeThisInProduction  # 修改为强密钥

# 管理员账户
IMAGENTX_ADMIN_PASSWORD=AdminSecurePassword123!  # 修改为强密码

# 域名配置
DOMAIN=imagentx.top
```

## 📊 部署包内容统计

### 文件类型分布
- **配置文件**: 15个
- **部署脚本**: 8个
- **Docker文件**: 6个
- **文档文件**: 12个
- **应用代码**: 完整的前后端代码
- **工具脚本**: 5个

### 目录结构
```
imagentx-deploy/
├── apps/                    # 应用代码
│   ├── backend/            # 后端应用
│   └── frontend/           # 前端应用
├── config/                 # 配置文件
│   ├── nginx/             # Nginx配置
│   └── docker/            # Docker配置
├── scripts/               # 脚本文件
├── deploy/                # 部署相关
├── docs/                  # 文档
├── tools/                 # 工具
└── 各种部署脚本和配置文件
```

## 🔒 安全注意事项

### 1. 密码安全
- 修改所有默认密码
- 使用强密码策略
- 定期更换密码

### 2. 环境变量
- 不要将 `.env.production` 提交到版本控制
- 保护好JWT密钥
- 使用环境变量存储敏感信息

### 3. 网络安全
- 配置防火墙规则
- 只开放必要端口
- 使用HTTPS访问

## 🎯 部署目标

### 预期结果
- **主站**: https://imagentx.top
- **管理后台**: https://imagentx.top/login
- **API接口**: https://imagentx.top/api
- **健康检查**: https://imagentx.top/health

### 服务组件
- **前端**: Next.js应用
- **后端**: Spring Boot应用
- **数据库**: PostgreSQL
- **消息队列**: RabbitMQ
- **反向代理**: Nginx
- **SSL证书**: Let's Encrypt

## 📞 技术支持

### 部署问题
1. 查看部署日志: `./quick-deploy.sh --logs`
2. 检查服务状态: `./quick-deploy.sh --status`
3. 重启服务: `./quick-deploy.sh --restart`

### 文档参考
- `部署执行详细指南.md` - 详细步骤
- `部署检查清单.md` - 检查清单
- `服务器部署完整指南.md` - 完整指南

## 🎉 部署完成

部署成功后，您将获得：
- ✅ 完整的ImagentX应用
- ✅ 自动SSL证书
- ✅ 生产环境配置
- ✅ 监控和维护工具
- ✅ 完整的文档支持

**您的ImagentX项目现在已经准备好部署到生产环境！** 🚀

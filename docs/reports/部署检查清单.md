# 📋 ImagentX 部署检查清单

## 🎯 部署前检查

### 1. 服务器准备 ✅
- [ ] **服务器已购买**
  - 操作系统: Ubuntu 20.04+ / CentOS 8+ / Debian 11+
  - 内存: 最少 4GB RAM（推荐 8GB+）
  - 存储: 最少 20GB 可用空间
  - 网络: 公网IP，80和443端口开放

- [ ] **服务器信息记录**
  - 服务器IP地址: `_________________`
  - SSH登录信息: `_________________`
  - 操作系统版本: `_________________`

### 2. 域名配置 ✅
- [ ] **域名信息**
  - 域名: `imagentx.top` ✅
  - DNS服务商: 阿里云 ✅
  - DNS服务器: dns27.hichina.com, dns28.hichina.com ✅

- [ ] **DNS解析配置**
  - [ ] 主域名解析记录已添加
  - [ ] www子域名解析记录已添加
  - [ ] 解析到正确的服务器IP
  - [ ] TTL设置为10分钟

### 3. 代码准备 ✅
- [ ] **项目文件**
  - [ ] 所有部署文件已创建 ✅
  - [ ] 环境变量已配置 ✅
  - [ ] 部署脚本已准备 ✅

## 🚀 部署执行检查

### 1. 服务器环境设置
```bash
# 在服务器上执行
./quick-deploy.sh --setup
```

**检查项目:**
- [ ] Docker安装成功
- [ ] Docker Compose安装成功
- [ ] 防火墙配置正确
- [ ] 系统更新完成

### 2. 项目部署
```bash
# 在服务器上执行
./quick-deploy.sh --deploy
```

**检查项目:**
- [ ] 环境变量加载成功
- [ ] 数据库初始化成功
- [ ] 后端服务启动成功
- [ ] 前端服务启动成功
- [ ] Nginx服务启动成功
- [ ] SSL证书获取成功

### 3. 服务验证
```bash
# 检查服务状态
./quick-deploy.sh --status

# 检查DNS解析
./check-dns.sh --check
```

**检查项目:**
- [ ] 所有容器运行正常
- [ ] 健康检查通过
- [ ] DNS解析正确
- [ ] 端口访问正常

## 🌐 访问测试检查

### 1. 域名访问测试
- [ ] **主域名访问**
  - [ ] http://imagentx.top 可访问
  - [ ] https://imagentx.top 可访问（SSL正常）
  - [ ] 自动重定向到HTTPS

- [ ] **子域名访问**
  - [ ] http://www.imagentx.top 可访问
  - [ ] https://www.imagentx.top 可访问
  - [ ] 自动重定向到HTTPS

### 2. API接口测试
- [ ] **健康检查**
  - [ ] https://imagentx.top/health 返回正常
  - [ ] https://imagentx.top/api/health 返回正常

- [ ] **API接口**
  - [ ] https://imagentx.top/api 可访问
  - [ ] API响应正常

### 3. 管理员登录测试
- [ ] **登录页面**
  - [ ] https://imagentx.top/login 可访问
  - [ ] 登录表单正常显示

- [ ] **管理员账户**
  - [ ] 邮箱: admin@imagentx.top
  - [ ] 密码: 在.env.production中设置的密码
  - [ ] 登录成功
  - [ ] 管理功能正常

## 🔒 安全检查

### 1. SSL证书检查
- [ ] **证书状态**
  - [ ] SSL证书有效
  - [ ] 证书自动续期配置
  - [ ] 安全头配置正确

### 2. 安全配置检查
- [ ] **环境变量**
  - [ ] 数据库密码已更改
  - [ ] JWT密钥已更改
  - [ ] 管理员密码已设置

- [ ] **服务安全**
  - [ ] 容器以非root用户运行
  - [ ] 防火墙配置正确
  - [ ] 不必要的端口已关闭

## 📊 性能检查

### 1. 响应时间测试
- [ ] **页面加载**
  - [ ] 首页加载时间 < 3秒
  - [ ] API响应时间 < 1秒
  - [ ] 静态资源加载正常

### 2. 资源使用检查
```bash
# 检查资源使用
docker stats
df -h
free -h
```

- [ ] **系统资源**
  - [ ] CPU使用率正常
  - [ ] 内存使用率正常
  - [ ] 磁盘空间充足

## 🔧 维护检查

### 1. 日志检查
```bash
# 查看应用日志
./quick-deploy.sh --logs
```

- [ ] **日志状态**
  - [ ] 应用日志正常
  - [ ] 错误日志无严重错误
  - [ ] 访问日志正常

### 2. 备份检查
```bash
# 创建备份
./deploy-production.sh --backup
```

- [ ] **备份功能**
  - [ ] 数据库备份成功
  - [ ] 配置文件备份成功
  - [ ] 备份文件可恢复

## 🎯 部署完成确认

### 最终检查清单
- [ ] **域名访问**: https://imagentx.top 正常访问
- [ ] **SSL证书**: 自动获取并正常工作
- [ ] **管理员登录**: 可正常登录管理后台
- [ ] **API接口**: 所有API接口正常工作
- [ ] **性能表现**: 页面加载和响应时间正常
- [ ] **安全配置**: 所有安全措施已启用
- [ ] **监控日志**: 系统监控和日志正常

### 部署成功标志
✅ **所有检查项目通过**
✅ **网站可正常访问**
✅ **功能完整可用**
✅ **安全配置到位**

## 📞 问题排查

### 常见问题检查
- [ ] DNS解析问题 → 检查DNS配置
- [ ] SSL证书问题 → 检查Certbot日志
- [ ] 服务启动失败 → 检查容器日志
- [ ] 数据库连接失败 → 检查数据库配置
- [ ] 前端访问404 → 检查Nginx配置

### 技术支持
- 查看详细日志: `./quick-deploy.sh --logs`
- 检查服务状态: `./quick-deploy.sh --status`
- 重启服务: `./quick-deploy.sh --restart`
- 查看部署指南: `服务器部署完整指南.md`

## 🎉 部署完成

**恭喜！您的ImagentX项目已成功部署到生产环境！**

### 访问地址
- **主站**: https://imagentx.top
- **管理后台**: https://imagentx.top/login
- **API文档**: https://imagentx.top/api

### 管理员账户
- **邮箱**: admin@imagentx.top
- **密码**: 您在.env.production中设置的密码

**您的ImagentX项目现在已经在生产环境中运行！** 🚀

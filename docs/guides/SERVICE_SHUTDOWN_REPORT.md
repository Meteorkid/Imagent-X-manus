# Imagent Xé¡¹ç›®æœåŠ¡å…³é—­å®ŒæˆæŠ¥å‘Š

## âœ… å…³é—­å®ŒæˆçŠ¶æ€

### æˆåŠŸå…³é—­çš„æœåŠ¡
- **Dockerå®¹å™¨**: æ‰€æœ‰Imagent Xç›¸å…³å®¹å™¨å·²åœæ­¢
- **Javaè¿›ç¨‹**: Spring Bootåç«¯æœåŠ¡å·²å…³é—­
- **Node.jsè¿›ç¨‹**: Next.jså‰ç«¯æœåŠ¡å·²å…³é—­
- **Mavenè¿›ç¨‹**: Mavenæ„å»ºè¿›ç¨‹å·²å…³é—­
- **PostgreSQL**: æœ¬åœ°PostgreSQLæœåŠ¡å·²åœæ­¢
- **RabbitMQ**: æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡å·²å…³é—­

### å·²é‡Šæ”¾çš„ç«¯å£
- âœ… **ç«¯å£ 8080** - åç«¯æœåŠ¡ç«¯å£
- âœ… **ç«¯å£ 3000** - å‰ç«¯å¼€å‘æœåŠ¡å™¨ç«¯å£
- âœ… **ç«¯å£ 5432** - PostgreSQLæ•°æ®åº“ç«¯å£
- âœ… **ç«¯å£ 5433** - PostgreSQLå¤‡ç”¨ç«¯å£
- âœ… **ç«¯å£ 5672** - RabbitMQæ¶ˆæ¯é˜Ÿåˆ—ç«¯å£
- âœ… **ç«¯å£ 5673** - RabbitMQå¤‡ç”¨ç«¯å£
- âœ… **ç«¯å£ 15672** - RabbitMQç®¡ç†ç•Œé¢ç«¯å£
- âœ… **ç«¯å£ 15673** - RabbitMQç®¡ç†ç•Œé¢å¤‡ç”¨ç«¯å£
- âœ… **ç«¯å£ 8088** - åç«¯å¤‡ç”¨ç«¯å£
- âœ… **ç«¯å£ 5005** - è°ƒè¯•ç«¯å£

### æ¸…ç†çš„èµ„æº
- **Dockerå·**: æ¸…ç†äº†144.1MBçš„å­¤ç«‹å·
- **ç½‘ç»œè¿æ¥**: é‡Šæ”¾äº†æ‰€æœ‰ç½‘ç»œè¿æ¥
- **ç³»ç»Ÿèµ„æº**: é‡Šæ”¾äº†CPUå’Œå†…å­˜èµ„æº

## ğŸ“‹ å…³é—­å‘½ä»¤æ±‡æ€»

```bash
# ä¸€é”®å…³é—­æ‰€æœ‰æœåŠ¡
./stop-all-services.sh

# æ‰‹åŠ¨å…³é—­å‘½ä»¤
brew services stop postgresql postgresql@15
docker stop $(docker ps -q)
pkill -f "java|node|npm|mvn|spring-boot|next"
```

## ğŸ” éªŒè¯çŠ¶æ€

```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -ti:8080  # åº”æ— è¾“å‡º
lsof -ti:3000  # åº”æ— è¾“å‡º
lsof -ti:5432  # åº”æ— è¾“å‡º

# æ£€æŸ¥Dockerå®¹å™¨
docker ps  # åº”æ— AgentXç›¸å…³å®¹å™¨

# æ£€æŸ¥è¿›ç¨‹
pgrep -f "spring-boot|next|postgres|rabbitmq"  # åº”æ— è¾“å‡º
```

## ğŸ¯ å®Œæˆç¡®è®¤

**æ‰€æœ‰Imagent Xé¡¹ç›®ç›¸å…³æœåŠ¡å·²æˆåŠŸå…³é—­ï¼**

- âœ… æ— è¿è¡Œä¸­çš„Dockerå®¹å™¨
- âœ… æ— å ç”¨é¡¹ç›®ç«¯å£çš„åå°è¿›ç¨‹
- âœ… ç³»ç»Ÿèµ„æºå·²å®Œå…¨é‡Šæ”¾
- âœ… å¯ä»¥éšæ—¶é‡æ–°å¯åŠ¨é¡¹ç›®

## ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œ

å½“æ‚¨å‡†å¤‡é‡æ–°å¯åŠ¨é¡¹ç›®æ—¶ï¼Œå¯ä»¥é€‰æ‹©ä»¥ä¸‹æ–¹å¼ï¼š

1. **æœ¬åœ°å¼€å‘æ¨¡å¼**:
   ```bash
   ./start-local.sh
   ```

2. **Dockeræ¨¡å¼**:
   ```bash
   ./start_services.sh
   ```

3. **åˆ†æ­¥å¯åŠ¨**:
   ```bash
   # å…ˆå¯åŠ¨æ•°æ®åº“
   docker run -d --name postgres -p 5433:5432 -e POSTGRES_DB=imagentx postgres:15-alpine
   
   # ç„¶åå¯åŠ¨åç«¯
   cd ImagentX && ./mvnw spring-boot:run
   
   # æœ€åå¯åŠ¨å‰ç«¯
   cd imagentx-frontend-plus && npm run dev
   ```
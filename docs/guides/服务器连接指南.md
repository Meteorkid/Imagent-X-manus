# ğŸ” æœåŠ¡å™¨è¿æ¥æŒ‡å—

## ğŸ“‹ å½“å‰æƒ…å†µ

æœåŠ¡å™¨ `103.151.173.98` é…ç½®ä¸ºåªå…è®¸SSHå¯†é’¥è®¤è¯ï¼Œä¸æ”¯æŒå¯†ç è®¤è¯ã€‚

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: ä½¿ç”¨SSHå¯†é’¥è¿æ¥ï¼ˆæ¨èï¼‰

#### 1.1 æ£€æŸ¥ç°æœ‰SSHå¯†é’¥
```bash
# æ£€æŸ¥æ˜¯å¦æœ‰ç°æœ‰çš„SSHå¯†é’¥
ls -la ~/.ssh/
```

#### 1.2 ç”Ÿæˆæ–°çš„SSHå¯†é’¥ï¼ˆå¦‚æœæ²¡æœ‰ï¼‰
```bash
# ç”Ÿæˆæ–°çš„SSHå¯†é’¥å¯¹
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"

# æˆ–è€…ç”ŸæˆED25519å¯†é’¥ï¼ˆæ›´å®‰å…¨ï¼‰
ssh-keygen -t ed25519 -C "your_email@example.com"
```

#### 1.3 å°†å…¬é’¥æ·»åŠ åˆ°æœåŠ¡å™¨
```bash
# å¤åˆ¶å…¬é’¥å†…å®¹
cat ~/.ssh/id_rsa.pub
# æˆ–è€…
cat ~/.ssh/id_ed25519.pub
```

#### 1.4 åœ¨æœåŠ¡å™¨ä¸Šæ·»åŠ å…¬é’¥
æ‚¨éœ€è¦è”ç³»æœåŠ¡å™¨ç®¡ç†å‘˜ï¼Œå°†æ‚¨çš„å…¬é’¥æ·»åŠ åˆ°æœåŠ¡å™¨çš„ `~/.ssh/authorized_keys` æ–‡ä»¶ä¸­ã€‚

### æ–¹æ¡ˆ2: ä½¿ç”¨SSHé…ç½®æ–‡ä»¶

#### 2.1 åˆ›å»ºSSHé…ç½®æ–‡ä»¶
```bash
# åˆ›å»ºæˆ–ç¼–è¾‘SSHé…ç½®æ–‡ä»¶
nano ~/.ssh/config
```

#### 2.2 æ·»åŠ æœåŠ¡å™¨é…ç½®
```
Host imagentx-server
    HostName 103.151.173.98
    User root
    Port 22
    IdentityFile ~/.ssh/id_rsa
    # æˆ–è€…
    # IdentityFile ~/.ssh/id_ed25519
```

#### 2.3 ä½¿ç”¨é…ç½®è¿æ¥
```bash
ssh imagentx-server
```

### æ–¹æ¡ˆ3: ä¸´æ—¶å¯ç”¨å¯†ç è®¤è¯

å¦‚æœæ‚¨æœ‰æœåŠ¡å™¨çš„rootæƒé™ï¼Œå¯ä»¥ä¸´æ—¶å¯ç”¨å¯†ç è®¤è¯ï¼š

#### 3.1 åœ¨æœåŠ¡å™¨ä¸Šç¼–è¾‘SSHé…ç½®
```bash
# åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
nano /etc/ssh/sshd_config
```

#### 3.2 ä¿®æ”¹é…ç½®
```
PasswordAuthentication yes
PermitRootLogin yes
```

#### 3.3 é‡å¯SSHæœåŠ¡
```bash
# åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
systemctl restart sshd
```

## ğŸš€ ä¸Šä¼ éƒ¨ç½²åŒ…

### ä½¿ç”¨SSHå¯†é’¥ä¸Šä¼ 
```bash
# ä½¿ç”¨SSHå¯†é’¥ä¸Šä¼ éƒ¨ç½²åŒ…
scp imagentx-deploy.tar.gz root@103.151.173.98:/opt/
```

### ä½¿ç”¨SSHé…ç½®æ–‡ä»¶ä¸Šä¼ 
```bash
# ä½¿ç”¨SSHé…ç½®æ–‡ä»¶ä¸Šä¼ 
scp imagentx-deploy.tar.gz imagentx-server:/opt/
```

## ğŸ“ éœ€è¦çš„ä¿¡æ¯

ä¸ºäº†å¸®åŠ©æ‚¨è¿æ¥æœåŠ¡å™¨ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

1. **æ‚¨æ˜¯å¦æœ‰æœåŠ¡å™¨çš„SSHå¯†é’¥ï¼Ÿ**
2. **æ‚¨æ˜¯å¦æœ‰æœåŠ¡å™¨çš„rootå¯†ç ï¼Ÿ**
3. **æ‚¨æ˜¯å¦æœ‰æœåŠ¡å™¨çš„ç®¡ç†æƒé™ï¼Ÿ**
4. **æœåŠ¡å™¨ç®¡ç†å‘˜è”ç³»æ–¹å¼ï¼Ÿ**

## ğŸ” æµ‹è¯•è¿æ¥

### æµ‹è¯•SSHè¿æ¥
```bash
# æµ‹è¯•SSHè¿æ¥
ssh root@103.151.173.98

# æˆ–è€…ä½¿ç”¨é…ç½®æ–‡ä»¶
ssh imagentx-server
```

### æµ‹è¯•SCPä¸Šä¼ 
```bash
# æµ‹è¯•æ–‡ä»¶ä¸Šä¼ 
scp imagentx-deploy.tar.gz root@103.151.173.98:/opt/

# æˆ–è€…ä½¿ç”¨é…ç½®æ–‡ä»¶
scp imagentx-deploy.tar.gz imagentx-server:/opt/
```

## ğŸ¯ ä¸‹ä¸€æ­¥æ“ä½œ

ä¸€æ—¦æˆåŠŸè¿æ¥åˆ°æœåŠ¡å™¨ï¼Œæ‚¨å°±å¯ä»¥ï¼š

1. **ä¸Šä¼ éƒ¨ç½²åŒ…**
   ```bash
   scp imagentx-deploy.tar.gz root@103.151.173.98:/opt/
   ```

2. **åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²**
   ```bash
   ssh root@103.151.173.98
   mkdir -p /opt/imagentx
   cd /opt/imagentx
   tar -xzf /opt/imagentx-deploy.tar.gz
   chmod +x *.sh
   ./quick-deploy.sh --setup
   ./quick-deploy.sh --deploy
   ```

## ğŸš¨ å®‰å…¨æé†’

- ä½¿ç”¨SSHå¯†é’¥æ¯”å¯†ç æ›´å®‰å…¨
- å®šæœŸæ›´æ¢SSHå¯†é’¥
- ä¸è¦åœ¨å…¬å…±ç½‘ç»œä¼ è¾“SSHå¯†é’¥
- ä¿æŠ¤å¥½ç§é’¥æ–‡ä»¶

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœæ‚¨éœ€è¦å¸®åŠ©ï¼š
1. è”ç³»æœåŠ¡å™¨ç®¡ç†å‘˜
2. æ£€æŸ¥SSHé…ç½®
3. æŸ¥çœ‹SSHæ—¥å¿—
4. ä½¿ç”¨SSHè°ƒè¯•æ¨¡å¼ï¼š`ssh -v root@103.151.173.98`

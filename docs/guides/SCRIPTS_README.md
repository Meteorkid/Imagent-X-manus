# ImagentX è„šæœ¬ä½¿ç”¨æŒ‡å—

æœ¬é¡¹ç›®å·²æ•´åˆå’Œä¼˜åŒ–äº†æ‰€æœ‰å¯åŠ¨ã€åœæ­¢å’ŒçŠ¶æ€æ£€æŸ¥è„šæœ¬ï¼Œæä¾›ç»Ÿä¸€çš„ç®¡ç†ç•Œé¢ã€‚

## ğŸ“ è„šæœ¬æ–‡ä»¶

### æ ¸å¿ƒè„šæœ¬
- `start.sh` - ç»Ÿä¸€å¯åŠ¨è„šæœ¬ï¼ˆæ›¿ä»£äº†å¤šä¸ªé‡å¤çš„å¯åŠ¨è„šæœ¬ï¼‰
- `stop.sh` - ç»Ÿä¸€åœæ­¢è„šæœ¬ï¼ˆæ›¿ä»£äº†åŸæ¥çš„åœæ­¢è„šæœ¬ï¼‰
- `status.sh` - çŠ¶æ€æ£€æŸ¥è„šæœ¬ï¼ˆæ–°å¢åŠŸèƒ½ï¼‰

### å·²åˆ é™¤çš„é‡å¤è„šæœ¬
ä»¥ä¸‹è„šæœ¬å·²è¢«æ•´åˆåˆ° `start.sh` ä¸­ï¼Œä¸å†éœ€è¦ï¼š
- `start-all-services.sh`
- `start-core-services.sh`
- `start-mac.sh`
- `start-local.sh`
- `start_services.sh`
- `start_simple.sh`
- `start_manual.sh`
- `quick-start.sh`
- `stop-all-services.sh`

## ğŸš€ å¯åŠ¨è„šæœ¬ (start.sh)

### åŸºæœ¬ç”¨æ³•
```bash
./start.sh [é€‰é¡¹]
```

### å¯åŠ¨æ¨¡å¼

#### 1. å¿«é€Ÿå¯åŠ¨ (--quick)
ä»…å¯åŠ¨å‰ç«¯æœåŠ¡ï¼Œè·³è¿‡Dockerä¾èµ–
```bash
./start.sh --quick
```
- âœ… é€‚åˆå¿«é€Ÿæµ‹è¯•å‰ç«¯åŠŸèƒ½
- âš ï¸ åç«¯æœåŠ¡éœ€è¦æ‰‹åŠ¨å¯åŠ¨

#### 2. æœ¬åœ°å¼€å‘ (--local)
å¯åŠ¨åç«¯å’Œå‰ç«¯æœåŠ¡ï¼Œè·³è¿‡Docker
```bash
./start.sh --local
```
- âœ… é€‚åˆæœ¬åœ°å¼€å‘ç¯å¢ƒ
- âš ï¸ éœ€è¦æ‰‹åŠ¨é…ç½®æ•°æ®åº“

#### 3. æ ¸å¿ƒæœåŠ¡ (--core)
å¯åŠ¨å®Œæ•´çš„æ ¸å¿ƒæœåŠ¡ï¼ˆåç«¯+å‰ç«¯+æ•°æ®åº“ï¼‰
```bash
./start.sh --core
```
- âœ… æ¨èç”¨äºå¼€å‘ç¯å¢ƒ
- ğŸ³ è‡ªåŠ¨å¯åŠ¨Dockeræ•°æ®åº“æœåŠ¡

#### 4. å®Œæ•´æœåŠ¡ (--full)
å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ŒåŒ…æ‹¬ç›‘æ§å’ŒMCPç½‘å…³
```bash
./start.sh --full
```
- âœ… å®Œæ•´çš„ç”Ÿäº§ç¯å¢ƒæ¨¡æ‹Ÿ
- ğŸ“Š åŒ…å«ç›‘æ§å’Œç½‘å…³æœåŠ¡

#### 5. ä»…DockeræœåŠ¡ (--docker)
ä»…å¯åŠ¨æ•°æ®åº“å’Œæ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡
```bash
./start.sh --docker
```
- ğŸ³ ä»…å¯åŠ¨PostgreSQLå’ŒRabbitMQ
- ğŸ”§ é€‚åˆæ‰‹åŠ¨ç®¡ç†åº”ç”¨æœåŠ¡

#### 6. macOSä¼˜åŒ– (--mac)
macOSä¸“ç”¨çš„ä¼˜åŒ–å¯åŠ¨æ¨¡å¼
```bash
./start.sh --mac
```
- ğŸ é’ˆå¯¹macOSä¼˜åŒ–çš„é…ç½®
- ğŸ³ ä½¿ç”¨Docker Compose

### å…¶ä»–é€‰é¡¹
```bash
./start.sh --status    # æ£€æŸ¥æœåŠ¡çŠ¶æ€
./start.sh --clean     # æ¸…ç†ç¯å¢ƒ
./start.sh --help      # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
```

## ğŸ›‘ åœæ­¢è„šæœ¬ (stop.sh)

### åŸºæœ¬ç”¨æ³•
```bash
./stop.sh [é€‰é¡¹]
```

### åœæ­¢é€‰é¡¹

#### 1. åœæ­¢æ‰€æœ‰æœåŠ¡ï¼ˆé»˜è®¤ï¼‰
```bash
./stop.sh
# æˆ–
./stop.sh --all
```

#### 2. é€‰æ‹©æ€§åœæ­¢
```bash
./stop.sh --backend    # ä»…åœæ­¢åç«¯æœåŠ¡
./stop.sh --frontend   # ä»…åœæ­¢å‰ç«¯æœåŠ¡
./stop.sh --docker     # ä»…åœæ­¢DockeræœåŠ¡
```

#### 3. å¼ºåˆ¶åœæ­¢
```bash
./stop.sh --force      # å¼ºåˆ¶åœæ­¢æ‰€æœ‰è¿›ç¨‹
./stop.sh --clean      # æ¸…ç†æ‰€æœ‰æ–‡ä»¶å’Œæ—¥å¿—
```

## ğŸ“Š çŠ¶æ€æ£€æŸ¥è„šæœ¬ (status.sh)

### åŸºæœ¬ç”¨æ³•
```bash
./status.sh [é€‰é¡¹]
```

### æ£€æŸ¥é€‰é¡¹

#### 1. å®Œæ•´çŠ¶æ€æ£€æŸ¥ï¼ˆé»˜è®¤ï¼‰
```bash
./status.sh
```

#### 2. é€‰æ‹©æ€§æ£€æŸ¥
```bash
./status.sh --process  # æ£€æŸ¥è¿›ç¨‹çŠ¶æ€
./status.sh --ports    # æ£€æŸ¥ç«¯å£å ç”¨
./stop.sh --docker     # æ£€æŸ¥DockerçŠ¶æ€
./stop.sh --health     # æ£€æŸ¥æœåŠ¡å¥åº·
./stop.sh --system     # æ£€æŸ¥ç³»ç»Ÿèµ„æº
./stop.sh --logs       # æ£€æŸ¥æ—¥å¿—æ–‡ä»¶
```

## ğŸ”„ å¸¸ç”¨æ“ä½œæµç¨‹

### 1. é¦–æ¬¡å¯åŠ¨
```bash
# æ£€æŸ¥ç³»ç»Ÿç¯å¢ƒ
./start.sh --help

# å¯åŠ¨æ ¸å¿ƒæœåŠ¡
./start.sh --core

# æ£€æŸ¥çŠ¶æ€
./status.sh
```

### 2. å¼€å‘ç¯å¢ƒ
```bash
# å¯åŠ¨æœ¬åœ°å¼€å‘ç¯å¢ƒ
./start.sh --local

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
./status.sh --health

# åœæ­¢æœåŠ¡
./stop.sh
```

### 3. ç”Ÿäº§ç¯å¢ƒ
```bash
# å¯åŠ¨å®Œæ•´æœåŠ¡
./start.sh --full

# ç›‘æ§çŠ¶æ€
./status.sh

# åœæ­¢æœåŠ¡
./stop.sh --clean
```

### 4. æ•…éšœæ’æŸ¥
```bash
# æ£€æŸ¥æ‰€æœ‰çŠ¶æ€
./status.sh

# å¼ºåˆ¶åœæ­¢æ‰€æœ‰æœåŠ¡
./stop.sh --force

# æ¸…ç†ç¯å¢ƒ
./stop.sh --clean

# é‡æ–°å¯åŠ¨
./start.sh --core
```

## ğŸ¯ æœåŠ¡ç«¯å£

| æœåŠ¡ | ç«¯å£ | è¯´æ˜ |
|------|------|------|
| å‰ç«¯æœåŠ¡ | 3000 | Reactå¼€å‘æœåŠ¡å™¨ |
| åç«¯API | 8080 | Spring Bootåº”ç”¨ |
| MCPç½‘å…³ | 8081 | æ¨¡å‹æ§åˆ¶åè®®ç½‘å…³ |
| ç›‘æ§æœåŠ¡ | 9090 | Prometheusç›‘æ§ |
| PostgreSQL | 5432 | æ•°æ®åº“æœåŠ¡ |
| RabbitMQ | 5672 | æ¶ˆæ¯é˜Ÿåˆ— |
| RabbitMQç®¡ç† | 15672 | ç®¡ç†ç•Œé¢ |

## ğŸ”§ ç¯å¢ƒè¦æ±‚

### å¿…éœ€ç¯å¢ƒ
- Java 17+
- Node.js 18+
- npm

### å¯é€‰ç¯å¢ƒ
- Docker Desktop (ç”¨äºæ•°æ®åº“æœåŠ¡)
- Maven (å¦‚æœä½¿ç”¨Maven Wrapperåˆ™ä¸éœ€è¦)

### ç³»ç»Ÿæ”¯æŒ
- âœ… macOS (æ¨è)
- âœ… Linux
- âš ï¸ Windows (éœ€è¦WSL)

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. ç«¯å£è¢«å ç”¨
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
./status.sh --ports

# åœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹
./stop.sh --force
```

#### 2. DockeræœåŠ¡æœªå¯åŠ¨
```bash
# æ£€æŸ¥DockerçŠ¶æ€
./status.sh --docker

# å¯åŠ¨Docker Desktop
# ç„¶åé‡æ–°è¿è¡Œå¯åŠ¨è„šæœ¬
```

#### 3. ä¾èµ–å®‰è£…å¤±è´¥
```bash
# æ¸…ç†ç¯å¢ƒ
./stop.sh --clean

# é‡æ–°å®‰è£…ä¾èµ–
cd imagentx-frontend-plus && npm install
cd ../ImagentX && ./mvnw clean install
```

#### 4. æœåŠ¡å¯åŠ¨è¶…æ—¶
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
./status.sh --health

# æŸ¥çœ‹æ—¥å¿—
tail -f logs/backend.log
tail -f logs/frontend.log
```

## ğŸ“ æ—¥å¿—æ–‡ä»¶

æ—¥å¿—æ–‡ä»¶ä½äº `logs/` ç›®å½•ï¼š
- `backend.log` - åç«¯æœåŠ¡æ—¥å¿—
- `frontend.log` - å‰ç«¯æœåŠ¡æ—¥å¿—
- `mcp-gateway.log` - MCPç½‘å…³æ—¥å¿—

## ğŸ”„ è„šæœ¬æ›´æ–°

å¦‚æœè„šæœ¬éœ€è¦æ›´æ–°ï¼Œè¯·ï¼š
1. å¤‡ä»½å½“å‰é…ç½®
2. ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
3. é‡æ–°è¿è¡Œå¯åŠ¨è„šæœ¬

## ğŸ“ æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„æ•…éšœæ’é™¤éƒ¨åˆ†
2. è¿è¡Œ `./status.sh` æ£€æŸ¥ç³»ç»ŸçŠ¶æ€
3. æŸ¥çœ‹ç›¸å…³æ—¥å¿—æ–‡ä»¶
4. æäº¤Issueåˆ°é¡¹ç›®ä»“åº“

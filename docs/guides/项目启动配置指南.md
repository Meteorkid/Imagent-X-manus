# Imagent X é¡¹ç›®å¯åŠ¨é…ç½®æŒ‡å—

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

Imagent X æ˜¯ä¸€ä¸ªæ™ºèƒ½AIåŠ©æ‰‹å¹³å°ï¼ŒåŒ…å«ä»¥ä¸‹ç»„ä»¶ï¼š
- **åç«¯æœåŠ¡**ï¼šSpring Boot + PostgreSQL + RabbitMQ
- **å‰ç«¯æœåŠ¡**ï¼šNext.js + React + TypeScript
- **æ•°æ®åº“**ï¼šPostgreSQL 15 + pgvectoræ‰©å±•
- **æ¶ˆæ¯é˜Ÿåˆ—**ï¼šRabbitMQ

## âœ… å½“å‰çŠ¶æ€

### å·²æˆåŠŸå¯åŠ¨çš„æœåŠ¡
- âœ… **åç«¯APIæœåŠ¡**ï¼šhttp://localhost:8088
- âœ… **å‰ç«¯WebæœåŠ¡**ï¼šhttp://localhost:3000
- âœ… **PostgreSQLæ•°æ®åº“**ï¼šlocalhost:5432
- âœ… **å¥åº·æ£€æŸ¥**ï¼šhttp://localhost:8088/api/health

## ğŸš€ å¿«é€Ÿå¯åŠ¨æ­¥éª¤

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# æ£€æŸ¥Javaç‰ˆæœ¬ï¼ˆéœ€è¦Java 17+ï¼‰
java -version

# è®¾ç½®JAVA_HOMEï¼ˆå¦‚æœæœªè®¾ç½®ï¼‰
export JAVA_HOME=/opt/homebrew/Cellar/openjdk/24.0.2/libexec/openjdk.jdk/Contents/Home

# æ£€æŸ¥Node.jsç‰ˆæœ¬ï¼ˆéœ€è¦Node.js 18+ï¼‰
node --version
npm --version
```

### 2. æ•°æ®åº“é…ç½®

```bash
# å¯åŠ¨PostgreSQLæœåŠ¡
brew services start postgresql@15

# åˆ›å»ºæ•°æ®åº“ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
createdb imagentx

# æµ‹è¯•æ•°æ®åº“è¿æ¥
psql -h localhost -U postgres -d imagentx -c "SELECT version();"
```

### 3. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd ImagentX
export JAVA_HOME=/opt/homebrew/Cellar/openjdk/24.0.2/libexec/openjdk.jdk/Contents/Home
mvn spring-boot:run -DskipTests
```

### 4. å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
cd imagentx-frontend-plus
npm install --legacy-peer-deps
npm run dev
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®

é¡¹ç›®æ ¹ç›®å½•çš„ `.env` æ–‡ä»¶åŒ…å«ä»¥ä¸‹å…³é”®é…ç½®ï¼š

```bash
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=5432
DB_NAME=imagentx
DB_USER=postgres
DB_PASSWORD=postgres

# æœåŠ¡ç«¯å£
SERVER_PORT=8088
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:8088

# é»˜è®¤ç”¨æˆ·
IMAGENTX_ADMIN_EMAIL=admin@imagentx.ai
IMAGENTX_ADMIN_PASSWORD=admin123
```

### æ•°æ®åº“é…ç½®

- **æ•°æ®åº“ç±»å‹**ï¼šPostgreSQL 15
- **æ•°æ®åº“å**ï¼šimagentx
- **ç”¨æˆ·å**ï¼špostgres
- **å¯†ç **ï¼špostgres
- **ç«¯å£**ï¼š5432

## ğŸ§ª APIæµ‹è¯•

### å¥åº·æ£€æŸ¥
```bash
curl http://localhost:8088/api/health
```

### ç”¨æˆ·ç™»å½•
```bash
curl -X POST http://localhost:8088/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@imagentx.ai","password":"admin123"}'
```

### åˆ›å»ºAgent
```bash
# å…ˆè·å–token
TOKEN="your_token_here"

curl -X POST http://localhost:8088/api/agents \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "æµ‹è¯•AIåŠ©æ‰‹",
    "description": "ä¸€ä¸ªæ™ºèƒ½å¯¹è¯åŠ©æ‰‹",
    "systemPrompt": "ä½ æ˜¯ä¸€ä¸ª helpful AI assistant",
    "modelId": "gpt-4"
  }'
```

## ğŸ” å¸¸è§é—®é¢˜è§£å†³

### 1. Dockerç½‘ç»œé—®é¢˜
**é—®é¢˜**ï¼šæ— æ³•ä»Docker Hubæ‹‰å–é•œåƒ
**è§£å†³**ï¼šä½¿ç”¨æœ¬åœ°å¯åŠ¨è„šæœ¬ç»•è¿‡Docker
```bash
./start_without_docker.sh
```

### 2. Javaç¯å¢ƒé…ç½®
**é—®é¢˜**ï¼šJAVA_HOMEæœªæ­£ç¡®è®¾ç½®
**è§£å†³**ï¼šæ‰‹åŠ¨è®¾ç½®JAVA_HOMEç¯å¢ƒå˜é‡
```bash
export JAVA_HOME=/opt/homebrew/Cellar/openjdk/24.0.2/libexec/openjdk.jdk/Contents/Home
```

### 3. å‰ç«¯ä¾èµ–å†²çª
**é—®é¢˜**ï¼šdate-fnsç‰ˆæœ¬å†²çª
**è§£å†³**ï¼šä½¿ç”¨--legacy-peer-depså®‰è£…
```bash
npm install --legacy-peer-deps
```

### 4. æ•°æ®åº“è¿æ¥é—®é¢˜
**é—®é¢˜**ï¼šPostgreSQLæœåŠ¡æœªå¯åŠ¨
**è§£å†³**ï¼šå¯åŠ¨PostgreSQLæœåŠ¡
```bash
brew services start postgresql@15
```

### 5. ç«¯å£å ç”¨é—®é¢˜
**é—®é¢˜**ï¼šç«¯å£è¢«å ç”¨
**è§£å†³**ï¼šæ£€æŸ¥å¹¶é‡Šæ”¾ç«¯å£
```bash
lsof -i :8088
lsof -i :3000
kill -9 <PID>
```

## ğŸ“Š æœåŠ¡ç›‘æ§

### æ£€æŸ¥æœåŠ¡çŠ¶æ€
```bash
# æ£€æŸ¥åç«¯æœåŠ¡
curl http://localhost:8088/api/health

# æ£€æŸ¥å‰ç«¯æœåŠ¡
curl http://localhost:3000

# æ£€æŸ¥æ•°æ®åº“è¿æ¥
psql -h localhost -U postgres -d imagentx -c "SELECT 1;"
```

### æŸ¥çœ‹æ—¥å¿—
```bash
# åç«¯æ—¥å¿—
tail -f ImagentX/logs/agent-x.log

# å‰ç«¯æ—¥å¿—ï¼ˆåœ¨ç»ˆç«¯ä¸­æŸ¥çœ‹ï¼‰
```

## ğŸ‰ è®¿é—®åœ°å€

- **å‰ç«¯åº”ç”¨**ï¼šhttp://localhost:3000
- **åç«¯API**ï¼šhttp://localhost:8088/api
- **APIæ–‡æ¡£**ï¼šhttp://localhost:8088/swagger-ui.html
- **å¥åº·æ£€æŸ¥**ï¼šhttp://localhost:8088/api/health

## ğŸ” é»˜è®¤è´¦å·

- **ç®¡ç†å‘˜è´¦å·**ï¼šadmin@imagentx.ai / admin123
- **æµ‹è¯•è´¦å·**ï¼štest@imagentx.ai / test123

## ğŸ“ å¼€å‘å»ºè®®

1. **æ•°æ®åº“é…ç½®**ï¼šå»ºè®®é…ç½®PostgreSQLæ•°æ®åº“ä»¥è·å¾—å®Œæ•´åŠŸèƒ½
2. **APIæµ‹è¯•**ï¼šä½¿ç”¨Postmanæˆ–curlæµ‹è¯•APIåŠŸèƒ½
3. **å‰ç«¯å¼€å‘**ï¼šæ”¯æŒçƒ­é‡è½½ï¼Œä¿®æ”¹ä»£ç åè‡ªåŠ¨åˆ·æ–°
4. **æ—¥å¿—ç›‘æ§**ï¼šå®šæœŸæ£€æŸ¥æ—¥å¿—æ–‡ä»¶ä»¥æ’æŸ¥é—®é¢˜

## ğŸš¨ æ³¨æ„äº‹é¡¹

1. ç¡®ä¿PostgreSQLæœåŠ¡æ­£å¸¸è¿è¡Œ
2. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®ï¼Œç¡®ä¿ç«¯å£8088å’Œ3000å¯è®¿é—®
3. å®šæœŸå¤‡ä»½æ•°æ®åº“æ•°æ®
4. ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å‰è¯·ä¿®æ”¹é»˜è®¤å¯†ç 

---

**é¡¹ç›®å¯åŠ¨å®Œæˆï¼** ğŸ‰
ç°åœ¨æ‚¨å¯ä»¥è®¿é—® http://localhost:3000 å¼€å§‹ä½¿ç”¨Imagent Xå¹³å°ã€‚

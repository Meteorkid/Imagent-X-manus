# ğŸš€ ImagentX é¡¹ç›®å¯åŠ¨æŒ‡å—

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### åŸºç¡€è¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: macOS 10.15+, Linux (Ubuntu 18.04+), Windows 10+
- **å†…å­˜**: è‡³å°‘4GB RAM (æ¨è8GB+)
- **å­˜å‚¨**: è‡³å°‘10GBå¯ç”¨ç©ºé—´

### å¼€å‘ç¯å¢ƒ
- **Java**: JDK 17+ (å¿…éœ€)
- **Node.js**: 18+ (å¿…éœ€)
- **npm**: 8+ (å¿…éœ€)
- **Git**: 2.20+ (æ¨è)

### ç”Ÿäº§ç¯å¢ƒ
- **Docker**: 20.10+ (æ¨è)
- **Docker Compose**: 2.0+ (æ¨è)
- **Nginx**: 1.18+ (å¤–ç½‘éƒ¨ç½²)

## ğŸ¯ å¯åŠ¨æ–¹æ¡ˆ

### 1. æœ¬åœ°å¼€å‘æ¨¡å¼ (æ¨èæ–°æ‰‹)

#### ç¯å¢ƒå‡†å¤‡
```bash
# æ£€æŸ¥Javaç‰ˆæœ¬ (éœ€è¦JDK 17+)
java -version

# æ£€æŸ¥Node.jsç‰ˆæœ¬ (éœ€è¦18+)
node --version
npm --version

# å¦‚æœJavaç‰ˆæœ¬ä¸å¯¹ï¼Œéœ€è¦å®‰è£…JDK 17
# macOS: brew install openjdk@17
# Ubuntu: sudo apt install openjdk-17-jdk
# Windows: ä¸‹è½½Oracle JDK 17
```

#### å¿«é€Ÿå¯åŠ¨
```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/Meteorkid/Downloads/ImagentX-master

# å¿«é€Ÿå¯åŠ¨ (ä»…å‰ç«¯)
./scripts/core/start.sh --quick

# æœ¬åœ°å¼€å‘ (åç«¯+å‰ç«¯)
./scripts/core/start.sh --local
```

#### æ‰‹åŠ¨å¯åŠ¨
```bash
# 1. å¯åŠ¨åç«¯
cd apps/backend
./mvnw spring-boot:run

# 2. å¯åŠ¨å‰ç«¯ (æ–°ç»ˆç«¯)
cd apps/frontend
npm install --legacy-peer-deps
npm run dev
```

**è®¿é—®åœ°å€:**
- å‰ç«¯: http://localhost:3000
- åç«¯API: http://localhost:8080

### 2. å†…ç½‘éƒ¨ç½²æ¨¡å¼ (æ¨èç”Ÿäº§ç¯å¢ƒ)

#### ä½¿ç”¨Docker Compose
```bash
# å¯åŠ¨å®Œæ•´æœåŠ¡ (åŒ…å«æ•°æ®åº“ã€æ¶ˆæ¯é˜Ÿåˆ—)
docker-compose -f config/docker/docker-compose-network.yml up -d

# æˆ–è€…ä½¿ç”¨ç®€åŒ–ç‰ˆæœ¬
docker-compose -f config/docker/docker-compose-imagentx.yml up -d
```

#### ä½¿ç”¨å¯åŠ¨è„šæœ¬
```bash
# æ ¸å¿ƒæœåŠ¡å¯åŠ¨
./scripts/core/start.sh --core

# å®Œæ•´æœåŠ¡å¯åŠ¨ (åŒ…å«ç›‘æ§)
./scripts/core/start.sh --full
```

**æœåŠ¡ä¿¡æ¯:**
- å‰ç«¯: http://localhost:3000
- åç«¯API: http://localhost:8088
- PostgreSQL: localhost:5432
- RabbitMQ: localhost:5672
- RabbitMQç®¡ç†: http://localhost:15672

### 3. å¤–ç½‘éƒ¨ç½²æ¨¡å¼ (ç”Ÿäº§ç¯å¢ƒ)

#### ä½¿ç”¨Nginxåå‘ä»£ç†
```bash
# 1. å¯åŠ¨åç«¯æœåŠ¡
docker-compose -f config/docker/docker-compose-network.yml up -d

# 2. é…ç½®Nginx
cp config/nginx/nginx.conf /etc/nginx/nginx.conf

# 3. å¯åŠ¨Nginx
sudo systemctl start nginx
# æˆ–
sudo nginx
```

#### ä½¿ç”¨Dockerç½‘ç»œæ¨¡å¼
```bash
# å¯åŠ¨å®Œæ•´ç½‘ç»œæœåŠ¡
docker-compose -f config/docker/docker-compose-network.yml up -d

# è®¿é—®åœ°å€
# å‰ç«¯: http://your-server-ip
# API: http://your-server-ip/api
```

## ğŸ”§ ç¯å¢ƒé…ç½®

### æ•°æ®åº“é…ç½®
```bash
# åˆ›å»ºæ•°æ®åº“
./scripts/database-migration/create_imagentx_db.sh

# æˆ–å®Œæ•´è¿ç§»
./scripts/database-migration/migrate_to_imagentx.sh
```

### ç¯å¢ƒå˜é‡é…ç½®
```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘é…ç½®
vim .env
```

ä¸»è¦é…ç½®é¡¹:
```env
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=5432
DB_NAME=imagentx
DB_USER=imagentx_user
DB_PASSWORD=imagentx_pass

# åº”ç”¨é…ç½®
SERVER_PORT=8088
FRONTEND_PORT=3000
JWT_SECRET=your_jwt_secret

# ç®¡ç†å‘˜è´¦æˆ·
IMAGENTX_ADMIN_EMAIL=admin@imagentx.ai
IMAGENTX_ADMIN_PASSWORD=admin123
```

## ğŸ“Š æœåŠ¡çŠ¶æ€æ£€æŸ¥

### æ£€æŸ¥æœåŠ¡çŠ¶æ€
```bash
# ä½¿ç”¨è„šæœ¬æ£€æŸ¥
./scripts/core/start.sh --status

# æ‰‹åŠ¨æ£€æŸ¥
./scripts/utils/check-services-status.sh
```

### æ£€æŸ¥ç«¯å£å ç”¨
```bash
# æ£€æŸ¥å¸¸ç”¨ç«¯å£
./scripts/utils/detect-ports.sh
```

### æŸ¥çœ‹æ—¥å¿—
```bash
# æŸ¥çœ‹Dockerå®¹å™¨æ—¥å¿—
docker-compose -f config/docker/docker-compose-network.yml logs

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
docker logs imagentx-backend
docker logs imagentx-frontend
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. Javaç‰ˆæœ¬é—®é¢˜
```bash
# é”™è¯¯: No compiler is provided in this environment
# è§£å†³: å®‰è£…JDK 17
# macOS
brew install openjdk@17
export JAVA_HOME=/opt/homebrew/opt/openjdk@17

# Ubuntu
sudo apt install openjdk-17-jdk
export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64
```

#### 2. ç«¯å£è¢«å ç”¨
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :3000
lsof -i :8080
lsof -i :8088

# æ€æ­»å ç”¨è¿›ç¨‹
kill -9 <PID>
```

#### 3. Dockeré•œåƒæ‹‰å–å¤±è´¥
```bash
# é…ç½®Dockeré•œåƒæº
# ç¼–è¾‘ ~/.docker/config.json
{
  "registry-mirrors": [
    "https://docker.mirrors.ustc.edu.cn",
    "https://hub-mirror.c.163.com"
  ]
}

# é‡å¯Docker
sudo systemctl restart docker
```

#### 4. æ•°æ®åº“è¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥æ•°æ®åº“çŠ¶æ€
docker exec imagentx-postgres psql -U postgres -c "SELECT version();"

# é‡æ–°åˆ›å»ºæ•°æ®åº“
./scripts/database-migration/create_imagentx_db.sh
```

### æ¸…ç†ç¯å¢ƒ
```bash
# åœæ­¢æ‰€æœ‰æœåŠ¡
./scripts/core/start.sh --clean

# æ¸…ç†Docker
docker-compose -f config/docker/docker-compose-network.yml down -v
docker system prune -f
```

## ğŸ“± ç§»åŠ¨ç«¯é€‚é…

é¡¹ç›®æ”¯æŒç§»åŠ¨ç«¯è®¿é—®ï¼Œå‰ç«¯ä¼šè‡ªåŠ¨é€‚é…ä¸åŒå±å¹•å°ºå¯¸ã€‚

## ğŸ” å®‰å…¨é…ç½®

### ç”Ÿäº§ç¯å¢ƒå®‰å…¨è®¾ç½®
```bash
# 1. ä¿®æ”¹é»˜è®¤å¯†ç 
# ç¼–è¾‘ .env æ–‡ä»¶
IMAGENTX_ADMIN_PASSWORD=your_secure_password

# 2. é…ç½®JWTå¯†é’¥
JWT_SECRET=your_very_secure_jwt_secret_key

# 3. é…ç½®HTTPS (å¤–ç½‘éƒ¨ç½²)
# åœ¨Nginxé…ç½®ä¸­æ·»åŠ SSLè¯ä¹¦
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### æœ¬åœ°å¼€å‘ä¼˜åŒ–
```bash
# ä½¿ç”¨ç¼“å­˜
npm install --legacy-peer-deps --cache .npm-cache

# å¹¶è¡Œæ„å»º
./mvnw -T 1C clean compile
```

### ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–
```bash
# å¯ç”¨Dockeræ„å»ºç¼“å­˜
docker build --build-arg BUILDKIT_INLINE_CACHE=1 .

# é…ç½®Nginxç¼“å­˜
# åœ¨nginx.confä¸­æ·»åŠ ç¼“å­˜é…ç½®
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### æ—¥å¿—ä½ç½®
- åº”ç”¨æ—¥å¿—: `logs/`
- Dockeræ—¥å¿—: `docker logs <container_name>`
- ç³»ç»Ÿæ—¥å¿—: `/var/log/`

### å¸¸ç”¨å‘½ä»¤
```bash
# å¯åŠ¨æœåŠ¡
./scripts/core/start.sh --local

# æ£€æŸ¥çŠ¶æ€
./scripts/core/start.sh --status

# æ¸…ç†ç¯å¢ƒ
./scripts/core/start.sh --clean

# æŸ¥çœ‹å¸®åŠ©
./scripts/core/start.sh --help
```

### æ–‡æ¡£é“¾æ¥
- [APIæ–‡æ¡£](docs/api/)
- [éƒ¨ç½²æŒ‡å—](docs/deployment/)
- [å¼€å‘æ–‡æ¡£](docs/developer-guide/)
- [ç”¨æˆ·æŒ‡å—](docs/user-guide/)

---

**æ³¨æ„**: é¦–æ¬¡å¯åŠ¨å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ä¸‹è½½ä¾èµ–å’Œæ„å»ºé¡¹ç›®ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚

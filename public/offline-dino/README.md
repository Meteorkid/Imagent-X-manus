# 🦕 离线小恐龙游戏

这是一个谷歌经典离线小恐龙游戏的复刻版，使用HTML5 Canvas和JavaScript实现，支持完全离线游玩。

## 功能特点

- ✅ **完全离线运行** - 通过Service Worker缓存，断网也能玩
- ✅ **像素风格** - 经典的小恐龙像素艺术设计
- ✅ **响应式** - 支持桌面和移动设备
- ✅ **PWA支持** - 可作为渐进式Web应用安装
- ✅ **多种控制** - 支持键盘、鼠标、触摸操作
- ✅ **难度递增** - 游戏速度随得分增加

## 游戏控制

- **空格键** - 跳跃
- **↓ 方向键** - 下蹲
- **鼠标点击** - 跳跃（移动设备友好）
- **触摸屏幕** - 跳跃（移动设备）

## 如何游玩

### 在线游玩

1. 打开 `dino.html` 文件
2. 按空格键或点击屏幕开始游戏
3. 躲避障碍物，获得高分！

### 离线游玩

1. 首次访问时确保网络连接正常
2. 浏览器会自动缓存游戏文件
3. 断网后刷新页面即可继续游戏

### 作为PWA安装

1. 在支持的浏览器中打开游戏
2. 点击地址栏的安装图标或"添加到主屏幕"
3. 游戏将作为独立应用安装到设备上

## 技术实现

### 核心功能

- **游戏循环**: 使用`requestAnimationFrame`实现流畅的60FPS游戏循环
- **物理引擎**: 简单的重力和跳跃物理模拟
- **碰撞检测**: AABB（轴对齐边界框）碰撞检测算法
- **障碍物生成**: 动态生成仙人掌和飞鸟障碍物
- **背景动画**: 移动的云朵和地面纹理

### 离线机制

- **Service Worker**: 缓存所有游戏资源
- **Web App Manifest**: 支持PWA安装
- **本地存储**: 游戏状态保存在本地

### 文件结构

```
offline-dino/
├── dino.html          # 主页面
├── dino-game.js       # 游戏逻辑
├── sw.js             # Service Worker
├── manifest.json     # PWA清单
└── README.md         # 说明文档
```

## 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 11.1+
- Edge 79+
- 移动浏览器（iOS Safari 11.3+, Chrome Android 60+）

## 自定义开发

### 调整难度

在 `dino-game.js` 中修改以下参数：

```javascript
this.speed = 3;              // 初始速度
this.gravity = 0.6;          // 重力
this.obstacleInterval = 2000; // 障碍物生成间隔
```

### 添加新障碍物

在 `generateObstacle()` 方法中添加新的障碍物类型：

```javascript
const types = ['cactus', 'bird', 'newObstacle'];
```

### 修改视觉效果

在相应的绘制方法中调整颜色和形状：

```javascript
this.dino.color = '#2c3e50';  // 恐龙颜色
obstacle.color = '#228B22';   // 障碍物颜色
```

## 性能优化

- 使用Canvas离屏渲染减少重绘
- 对象池管理减少垃圾回收
- 图像精灵图优化渲染性能
- 响应式画布适配不同屏幕

## 许可证

MIT License - 可自由使用、修改和分发。

## 致谢

灵感来源于Google Chrome的离线小恐龙游戏。感谢开源社区提供的各种技术资源。
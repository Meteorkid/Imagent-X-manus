<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¦»çº¿æ¸¸æˆé›†æˆæ¼”ç¤º</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .controls {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
        }
        
        button:hover {
            background: #45a049;
        }
        
        .status {
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        
        .online {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .offline {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .content {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ¦• ç¦»çº¿å°æé¾™æ¸¸æˆé›†æˆæ¼”ç¤º</h1>
        <p>æµ‹è¯•æ–­ç½‘æ—¶è‡ªåŠ¨æ˜¾ç¤ºæ¸¸æˆåŠŸèƒ½</p>
    </div>
    
    <div class="controls">
        <h3>ç½‘ç»œçŠ¶æ€: <span id="networkStatus">æ£€æµ‹ä¸­...</span></h3>
        <div id="statusIndicator" class="status">æ£€æµ‹ç½‘ç»œè¿æ¥...</div>
        
        <button onclick="toggleNetwork()">æ¨¡æ‹Ÿæ–­ç½‘/æ¢å¤</button>
        <button onclick="showGame()">æ‰‹åŠ¨æ˜¾ç¤ºæ¸¸æˆ</button>
        <button onclick="hideGame()">éšè—æ¸¸æˆ</button>
    </div>
    
    <div class="content">
        <h3>è¿™æ˜¯ä¸€ä¸ªæ¼”ç¤ºé¡µé¢</h3>
        <p>å½“ç½‘ç»œæ–­å¼€æ—¶ï¼Œä¼šè‡ªåŠ¨æ˜¾ç¤ºå°æé¾™æ¸¸æˆã€‚æ‚¨ä¹Ÿå¯ä»¥æ‰‹åŠ¨è§¦å‘æ¸¸æˆæ˜¾ç¤ºã€‚</p>
        
        <h4>ä½¿ç”¨è¯´æ˜ï¼š</h4>
        <ul>
            <li>ç‚¹å‡»"æ¨¡æ‹Ÿæ–­ç½‘/æ¢å¤"æŒ‰é’®æµ‹è¯•è‡ªåŠ¨æ˜¾ç¤ºåŠŸèƒ½</li>
            <li>ç‚¹å‡»"æ‰‹åŠ¨æ˜¾ç¤ºæ¸¸æˆ"æŒ‰é’®ç›´æ¥æ‰“å¼€æ¸¸æˆ</li>
            <li>æ¸¸æˆæ”¯æŒé”®ç›˜å’Œé¼ æ ‡æ§åˆ¶</li>
            <li>ç½‘ç»œæ¢å¤åæ¸¸æˆä¼šè‡ªåŠ¨éšè—</li>
        </ul>
        
        <h4>é›†æˆæ–¹æ³•ï¼š</h4>
        <pre style="background: #f8f9fa; padding: 10px; border-radius: 5px; overflow-x: auto;">
&lt;script src="integration.js"&gt;&lt;/script&gt;
&lt;script&gt;
    const offlineGame = new OfflineGameIntegration();
&lt;/script&gt;
        </pre>
    </div>

    <script src="integration.js"></script>
    <script>
        let gameIntegration;
        let isSimulatedOffline = false;
        
        function updateStatus() {
            const status = navigator.onLine && !isSimulatedOffline;
            const statusEl = document.getElementById('networkStatus');
            const indicator = document.getElementById('statusIndicator');
            
            if (status) {
                statusEl.textContent = 'åœ¨çº¿';
                statusEl.style.color = '#155724';
                indicator.className = 'status online';
                indicator.textContent = 'âœ… ç½‘ç»œè¿æ¥æ­£å¸¸';
            } else {
                statusEl.textContent = 'ç¦»çº¿';
                statusEl.style.color = '#721c24';
                indicator.className = 'status offline';
                indicator.textContent = 'âŒ ç½‘ç»œè¿æ¥å·²æ–­å¼€';
            }
        }
        
        function toggleNetwork() {
            isSimulatedOffline = !isSimulatedOffline;
            
            if (isSimulatedOffline) {
                gameIntegration.handleOffline();
            } else {
                gameIntegration.handleOnline();
            }
            
            updateStatus();
        }
        
        function showGame() {
            gameIntegration.show();
        }
        
        function hideGame() {
            gameIntegration.hide();
        }
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            gameIntegration = new OfflineGameIntegration({
                gameUrl: 'dino.html',
                autoShow: true,
                checkInterval: 1000
            });
            
            updateStatus();
            
            // ç›‘å¬çœŸå®ç½‘ç»œçŠ¶æ€å˜åŒ–
            window.addEventListener('online', updateStatus);
            window.addEventListener('offline', updateStatus);
            
            // å®šæœŸæ£€æŸ¥
            setInterval(updateStatus, 1000);
        });
    </script>
</body>
</html>